[tox]
envlist = py38-django{22,30,31,32}
skipsdist = true

[pytest]
DJANGO_SETTINGS_MODULE = designer.settings.test
testpaths = designer/apps

[testenv]
deps =
    django22: -r requirements/django.txt
    django30: Django>=3.0,<3.1
    django31: Django>=3.1,<3.2
    django32: Django>=3.2,<3.3
    -r {toxinidir}/requirements/test.txt
commands =
    {posargs:python -Wd -m pytest}

[testenv:quality]
whitelist_externals =
    make
deps =
    -r{toxinidir}/requirements/dev.txt
commands =
    make quality

[testenv:pii_check]
whitelist_externals =
    make
deps =
    -r{toxinidir}/requirements/dev.txt
commands =
    make pii_check

